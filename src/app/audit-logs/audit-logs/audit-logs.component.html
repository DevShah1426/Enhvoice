<app-header></app-header>
<div class="w-full p-9" *appHasPermission="'auditLogs'">
  <div class="bg-white rounded-t-2xl py-6 px-4 gap-5 items-center w-full">
    <form class="grid grid-cols-5 w-full gap-5" [formGroup]="filterForm">
      <div class="w-full">
        <app-dropdown
          [dropdownLabel]="'Filter By User'"
          [dropdownLabelClass]="'form-label'"
          [dropdownItems]="users"
          [optionLabel]="'fullName'"
          [dropdownClass]="'form-dropdown'"
          (onSelect)="onUserSelect($event.value)"
          [control]="filterForm.get('user')"
          [selectedItem]="selectedUser"
        ></app-dropdown>
      </div>
      <div class="mt-1">
        <app-datepicker
          [inputClass]="'form-datepicker'"
          [labelClass]="'form-label'"
          [inputLabel]="'From Date'"
          [control]="filterForm.get('fromDate')"
          [maxDate]="maxDate"
        ></app-datepicker>
      </div>
      <div class="mt-1">
        <app-datepicker
          [inputClass]="'form-datepicker'"
          [labelClass]="'form-label'"
          [inputLabel]="'To Date'"
          [control]="filterForm.get('toDate')"
          [maxDate]="maxDate"
        ></app-datepicker>
      </div>
      <div class="mt-6">
        <app-button [label]="'Search'" [icon]="'pi-search'" (onClick)="onSearch()"></app-button>
      </div>
      <div class="mt-8 text-left -ml-16">
        <label class="cursor-pointer hover:underline" (click)="resetFilter()">Reset Filter</label>
      </div>
    </form>
  </div>
  <app-table [actionsVisible]="false" [dataList]="dataList" [dataColumns]="dataColumns"></app-table>
</div>
